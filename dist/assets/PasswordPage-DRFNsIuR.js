import{f,l as x,r as m,j as s,v as g,m as h,_ as n,n as b}from"./index-u5watr16.js";function _(){const p=f(),c=x(),[o,w]=m.useState({current_password:"",password:"",confirm_password:""}),[e,i]=m.useState({password:null,confirm_password:null});function d(l){const{name:r,value:a}=l.target;[r]=="password"?i(t=>({...t,password:g(a)})):[r]=="confirm_password"&&i(t=>({...t,confirm_password:h(o.password,a)})),w(t=>({...t,[r]:a}))}async function u(l){l.preventDefault();const r=n.loading("Updating password..."),a=await b(o);if(a.status==="success"&&a.message)n.remove(r),n.success(a.message),p("/login");else return n.remove(r),n.error(a.message)}return s.jsx("form",{onSubmit:u,children:s.jsxs("div",{className:"row g-3 mt-3",children:[s.jsxs("div",{className:"col-12",children:[s.jsx("label",{htmlFor:"current_password",className:"fw-medium text-secondary form-label",children:"Current Password"}),s.jsx("input",{type:"password",id:"current_password",name:"current_password",value:o.current_password,onChange:d,className:"form-control py-2",placeholder:"Current Password"})]}),s.jsxs("div",{className:"col-12",children:[s.jsx("label",{htmlFor:"password",className:"fw-medium text-secondary form-label",children:"New Password"}),s.jsx("input",{type:"password",id:"password",name:"password",className:"form-control py-2",value:o.password,onChange:d,placeholder:"New Password"})]}),e.password&&s.jsx("p",{className:`${e.password.status==="error"?"text-danger":"text-success"} fw-bold`,children:e.password.message}),s.jsxs("div",{className:"col-12",children:[s.jsx("label",{htmlFor:"confirm_password",className:"fw-medium text-secondary form-label",children:"Confirm Password"}),s.jsx("input",{type:"password",id:"confirm_password",name:"confirm_password",className:"form-control py-2",value:o.confirm_password,onChange:d,placeholder:"Confirm Password"})]}),e.confirm_password&&s.jsx("p",{className:`${e.confirm_password.status==="error"?"text-danger":"text-success"} fw-bold`,children:e.confirm_password.message}),s.jsx("button",{type:"submit",disabled:c.state==="submitting",className:`w-100 d-flex justify-content-center align-items-center fw-medium ${c.state==="submitting"?"bg-secondary":"box-shadow"} rounded-pill p-2 mt-4 mb-2`,children:"Change Password"})]})})}export{_ as default};
