import{g,r as p,j as t,b,Y as h,e as w,p as j}from"./index-u5watr16.js";function N(){const a=g().payments,[r,l]=p.useState(""),[x,i]=p.useState([]);return p.useEffect(()=>{const e=new Date;switch(r){case"1 day":const d=new Date;d.setMonth(e.getDate()-1),i(n=>a.instructor?a.instructor.filter(s=>new Date(s.paymentDate)>=d&&new Date(s.paymentDate)<=e):n);break;case"7 days":const o=new Date;o.setDate(e.getDate()-7),i(n=>{var s;return(s=a.instructor)!=null&&s.completed?a.instructor.filter(y=>new Date(y.paymentDate)>=o&&new Date(y.paymentDate)<=e):n});break;case"30 days":const c=new Date;c.setDate(e.getDate()-30),i(n=>a.instructor?a.instructor.filter(s=>new Date(s.paymentDate)>=c&&new Date(s.paymentDate)<=e):n);break;case"3 months":const m=new Date;m.setMonth(e.getMonth()-3),i(n=>a.instructor?a.instructor.filter(s=>new Date(s.paymentDate)>=m&&new Date(s.paymentDate)<=e):n);break;case"12 months":const u=new Date;u.setFullYear(e.getFullYear()-1),i(n=>a.instructor?a.instructor.filter(s=>new Date(s.paymentDate)>=u&&new Date(s.paymentDate)<=e):n);break;default:i(n=>a.instructor?a.instructor:n);break}},[r,a.instructor]),t.jsxs("div",{className:"bg-lightGray rounded-3 shadow p-3 m-3",children:[t.jsxs("div",{className:"row gap-5 justify-content-between align-items-start pb-3",children:[t.jsxs("ul",{className:"col",children:[t.jsx("li",{children:t.jsx("h3",{className:"text-medium text-dark text-nowrap",children:"Instructor's Payment Transactions"})}),t.jsx("li",{children:t.jsx("p",{className:"text-nowrap text-dark",children:"This page shows all payment made to all Instructors"})})]}),t.jsxs("div",{className:"col rounded-pill d-inline-flex flex-nowrap gap-4 bg-white p-0",children:[t.jsx("button",{type:"button",onClick:()=>l(""),className:`${r===""?"btn btn-primary text-light":"btn btn-transparent text-dark"} py-2 px-3 rounded-pill text-nowrap`,children:"All"}),t.jsx("button",{type:"button",onClick:()=>l("1 day"),className:`${r==="1 day"?"btn btn-primary text-light":"btn btn-transparent text-dark"} py-2 px-3 rounded-pill text-nowrap`,children:"→ a day ago"}),t.jsx("button",{type:"button",onClick:()=>l("7 days"),className:`${r==="7 days"?"btn btn-primary text-light":"btn btn-transparent text-dark"} py-2 px-3 rounded-pill text-nowrap`,children:"→ 7 days"}),t.jsx("button",{type:"button",onClick:()=>l("30 days"),className:`${r==="30 days"?"btn btn-primary text-light":"btn btn-transparent text-dark"} py-2 px-3 rounded-pill text-nowrap`,children:"→ 30 days"}),t.jsx("button",{type:"button",onClick:()=>l("3 months"),className:`${r==="3 months"?"btn btn-primary text-light":"btn btn-transparent text-dark"} py-2 px-3 rounded-pill text-nowrap`,children:"→ 3 months"}),t.jsx("button",{type:"button",onClick:()=>l("12 months"),className:`${r==="12 months"?"btn btn-primary text-light":"btn btn-transparent text-dark"} py-2 px-3 rounded-pill text-nowrap`,children:"→ 12 months"})]})]}),a.instructor.length>0&&x&&t.jsxs("div",{className:"rounded-3 shadow card bg-white text-dark w-100 my-4",children:[t.jsx("hr",{className:"border-3 border-secondary"}),t.jsx("h5",{className:"fw-bold text-capitalize mx-4 my-2",children:"Instructors Transaction"}),x.map((e,d)=>{var o,c;return t.jsxs("div",{children:[t.jsx("hr",{className:"border-2 border-secondary"}),t.jsxs("div",{className:"transaction d-flex gap-3 justify-content-between align-items-start px-4",children:[t.jsxs("div",{className:"d-flex gap-4 flex-column justify-content-between align-items-start",children:[t.jsxs("div",{className:"d-inline-flex gap-2 flex-nowrap justify-content-between align-items-start",children:[t.jsx(b.LazyLoadImage,{src:h,height:"50px",width:"50px",className:"rounded-circle border-secondary border border-4",placeholderSrc:async()=>await w(h),effect:"blur"}),t.jsx("div",{className:"align-self-center fw-bold fs-4",children:"→"}),t.jsx(b.LazyLoadImage,{src:e.instructorId.profile_image||j,height:"50px",width:"50px",className:"rounded-circle border-secondary border border-4",placeholderSrc:async()=>await w(e.instructorId.profile_image||j),effect:"blur"})]}),t.jsxs("ul",{className:"p-0 m-0",children:[t.jsxs("li",{className:"fs-6 text-nowrap",children:[t.jsx("span",{className:"fw-bold text-dark",children:"Paid By"})," : ",t.jsx("cite",{children:"Company "})," ",t.jsx("span",{className:"fw-bold fs-4",children:"  →  "})," ",t.jsxs("span",{children:[" ",t.jsxs("cite",{children:[" ",((o=e.instructorId)==null?void 0:o.name)||""]})]})]}),t.jsxs("li",{className:"fs-6 text-nowrap",children:[t.jsx("span",{className:"fw-bold text-dark",children:"Instructor ID"})," : ",t.jsx("cite",{children:(c=e.instructorId)==null?void 0:c._id})]}),t.jsxs("li",{className:"fs-6 text-nowrap mb-3",children:[t.jsx("span",{className:"fw-bold text-dark",children:"Payout Batch ID"})," : ",t.jsx("cite",{children:e.details.batch_header.payout_batch_id||""})]})]})]}),t.jsxs("div",{className:"date",children:[new Date(e.paymentDate).toDateString(),t.jsx("br",{}),new Date(e.paymentDate).toLocaleTimeString("en-US")]}),t.jsxs("ul",{className:"amount fw-bold fs-5",children:[t.jsxs("li",{className:"text-secondary",children:["+ ",e.totalAmount,e.payments[0].currency," → TA"]}),t.jsxs("li",{className:"text-success",children:["- ",e.instructorShare,e.payments[0].currency," → IS"]}),t.jsxs("li",{className:"text-primary",children:["- ",e.companyShare,e.payments[0].currency," → CS"]})]}),t.jsx("div",{className:"fw-bold text-warning",children:e.details.batch_header.batch_status})]})]},d)})]})]})}export{N as default};
